---
title: '[Data] 빅데이터 - 스칼라(scala), 스파크(spark)로 시작하기빅데이터 - 스칼라(scala), 스파크(spark)로 시작하기'
date: 2025-03-08 18:10:00 +0900
categories: [빅데이터, Spark]
tags: [Spark]
math: true
mermaid: true
---

## 스칼라
- 객체 지향 언어의 특징과 함수형 언어의 특징을 함께 가지는 다중 패러다임 프로그래밍 언어
- 자바가상머신(JVM)에서 동작하는 JVML
- 바이트 코드를 최적화 하여하여 자바 보다 20% 정도 속도가 빠릅니다.
- 변경 불가능한 Immutable 변수를 많이 가지고 있습니다. 이를 통해 속성을 변경 불가능하게 하고, 순수 함수를 사용하여 병렬 프로그래밍 처리에 강합니다.

## 스파크
- 인메모리 기반의 대용량 데이터 고속 처리 엔진으로 범용 분산 클러스터 컴퓨팅 프레임워크
- 라이브러리 : Spark SQL, Spark Streaming, MLib, GraphX

### 구조
- 스파크는 작업을 관리하는 드라이버와 작업이 실행되는 노드를 관리하는 클러스터 매니저로 구성.
- 스파크 애플리케이션 : 스파크 실행 프로그램으로 클러스터 매니저가 스파크 애플리케이션의 리소스를 효율적으로 배분하게 됩니다. 마스터-슬레이브 구조로 실행됩니다. 스파크 애플리케이션은 작업을 관장하는 드라이버와 실제 작업이 동작하는 익스큐터로 구성됩니다. 스파크 애플리케이션의 작업은 잡(Job), 스테이지(Stage), 태스크(Task)로 구성됩니다.
- 드라이버 : 스파크 컨텍스트 객체를 생성하여 클러스터 매니저와 통신하면서 클러스터의 자원 관리를 지원하고, 애플리케이션의 라이프 사이클을 관리합니다. 스파크 애플리케이션을 실행하는 프로세스입니다. main 함수를 실행하고, 스파크 컨텍스트(SparkContext) 객체를 생성합니다.
- 익스큐터 : 태스크 실행을 담당하는 에이전트로 실제 작업을 진행하는 프로세스입니다. YARN의 컨테이너 라고 볼 수 있습니다.
- 클러스터 매니저 : YARN, Mesos, StandAlone
- 스파크 스리프트 서버는 SparkSQL 엔진을 이용하여 처리합니다. ODBC 드라이버를 이용해서 스파크 스리프트 서버에 쉽게 접근할 수 있습니다.

### 모니터링
- 웹UI를 이용하는 방법과 REST API를 이용하는 방법
- 스파크 컨텍스트가 실행되면 4040포트로 웹UI를 실행
- start-history-server.sh로 실행하고 기본 접속 포트는 18080

## 스파크 애플리케이션
- 실행 방법 : spark-shell, pyspark를 실행하면 REPL 환경에서 인터랙티브하게 작업을 처리할 수 있습니다. spark-shell은 스칼라, pyspark는 파이썬을 지원합니다.
- 설정 : 스파크는 관련된 여러 가지 설정을 spark-defaults.conf와 spark-env.sh 파일을 이용해서 전달 할 수 있습니다.

### RDD(Resilient Distributed Data)
- 스파크의 기본 데이터 구조

### Dataset, Dataframe

## 스파크 스트리밍

## 참고
- <https://wikidocs.net/book/2350>